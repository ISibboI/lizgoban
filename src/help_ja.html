<!doctype html>
<html lang="ja">
<head>
<meta name=”viewport” content=”width=device-width,initial-scale=1.0,minimum-scale=1.0″>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>LizGoban Help</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<blockquote>

<p class="pagetop">
<a href="#"><img src="../../css/images/pagetop.png"></a>
</p>

<h1>LizGoban 0.4.0-pre3 ヘルプ</h1>
<br>
LizGobanは、<a href="https://github.com/leela-zero/leela-zero" target="_blank">LeelaZero</a>と<a href="https://github.com/lightvector/KataGo" target="_blank">KataGo</a>による囲碁の分析ツールです。<br>
<a name="gk1"></a>
<hr>
<br>
<h2>画面の表示</h2>
<h3>碁盤上の推奨手</h3>
　・色　：　勝率<br>
　・不透明度　：　訪問数<br>
　・番号　：　推奨順位<br>
<br>
通常、黄色（普通）、オレンジ（悪い）、赤（非常に悪い）の円が見えます。相手が悪い手を打ったときは、シアン(非常に良い)と緑(良い)の丸が見えます。小さな赤い丸は、まだ検索されていない次の候補です。<br>
<br>
［マウス操作］<br>
<br>
　・クリック　：　石を置く<br>
　・推奨された手の上にカーソルを置く　：　主な変化を表示する<br>
　・右クリック　：　前の動きと同じ色の石を置く<br>
　・タグのついた石をクリックすると、この手に移動する。<br>
<br>
最適な手が予想と異なる場合は、それぞれ赤と青のマスで表示され、エンジンの意見の変化に気づくことができます。四角の黒/白の角は、黒／白の計画を示しています。また、表示されている変化図の中にも登場します。これは特にAI対AIを見ているときに便利で、例えば「黒は8手後に拡張を期待しているが、白はカットを計画している！」というような場合に便利です(「Engine」メニューの「白の代替ウェイト(Alternative weights for white)」や、「Tool」メニューの「AI対AI (AI vs AI)」を参照してください)。<br>
<br>
また、「View」メニューで「Lizzie式(Lizzie style)」を選択することもできます（上の数字＝勝率、下の数字＝訪問数）。KataGoを使用し、「View」メニューの「スコアバー(Score bar)」にチェックを入れると、上の数字がスコアに置き換わります。<br>

<h3>勝率バー</h3>
　・黒/白エリア　：　現在の盤面の勝率<br>
　・緑・赤の四角　：　最後の一手による勝率の変化（緑＝良、赤＝悪）<br>
　・三角形　：　推奨された次の一手の評価（高さ＝訪問、大きさ＝事前確率、青＝次の一手）<br>
　・反対方向の空三角形　：　最後の一手の評価<br>
　・灰色の数　：　最高の提案の訪問（＝勝率バーのトップ）<br>
　・灰色の曲線　：　探索プロセスの進行による評価の軌跡<br>
<br>
「x」キーを長押しすると、勝率バーが拡大されます。「View」メニューの「勝率バーの拡大(Expand winrate bar)」も参照してください。大きな勝率バーでは、オレンジ色の丸が最近の訪問手（分析努力）、オレンジ色の斜線がPUCT（分析優先度）（x軸＝PUCT、y軸＝現在の勝率＋PUCTで予測される将来の順位）、オレンジ色の横線がLCB（提案順序の基準）を示しています。<br>
<br>
<h3>勝率グラフ</h3>
主曲線　：　黒の勝率<br>
<br>
　・緑の部分(セグメント)　：　好手（勝率アップ）<br>
　・赤の部分（セグメント）　：　悪手（勝率低下）<br>
　・黄色の部分（セグメント）　：　エンジンが見逃した予想外の好手<br>
　・黄色の縦線　：　評価の誤差（対局前と対局後の評価の差）<br>
　・薄紫色の部分（セグメント）　：　他のエンジンによる推定<br>
<br>
追加プロット[K=KataGoのみ]<br>
<br>
　・オレンジ色の点　：　黒の推定スコア[K]<br>
　・緑／ピンクのステップ　：　累積スコアロス[K]<br>
　・赤点：石の曖昧さ（生死100％の場合は低め）[K]<br>
　・上部の繰り返しの円　：　コウ争い（o / x = 接続・捕獲で解決）<br>
　・グラフ下の虹のバー　：　プレイしたゾーン（左＝紫、中央＝白など）<br>
　・グラフ横の虹の四角　：　ゾーンカラーマップ<br>
<br>
グラフ上でクリック／ドラッグすると、対応する手に移動します。「x」キーを長押しすると、勝率グラフとゾーンカラーマップが拡大表示されます。「c」キーを押しながら、グラフ上にマウスを置くと、過去／未来のボードが一時的に表示されます。AI対AIを見ているときは、緑とピンクのカーブが黒と白のエンジンによる推定勝率を示しています。<br>
<br>
<h3>コメント</h3>
最後の一手のコメントは、勝率グラフとボタンの下に表示されています。長い場合はクリックすると全体を見ることができます。「Edit」メニューの「info」で編集できます。<br>
<br>
<h3>訪問数グラフ</h3>
もう一つの訪問経過のグラフは、<a href="#gk11">横向きレイアウト</a>のウィンドウの右下に小さく表示されています。「View」メニューで「double_boards」を選択し、「x」キーを押すと勝率グラフのあった位置に大きく表示されます。<br>
<br>
　・x軸　：　総訪問数<br>
　・Y軸　：　各提案手の訪問回数<br>
　・点線の曲線　：　次の一手<br>
　・太いセグメント　：　最高の一手<br>
<br>
<h3>碁盤上のその他のマーク</h3>
<a href="#gk4">KataGoの項</a>を参照してください。<br>
<hr>
<a name="gk2"></a>
<br>
<h2>ヒント</h2>
<h3>試行碁盤(trial board)</h3>
既存の対局を修正しようとすると、新しい碁盤が作成されます. この碁盤の境界線の色は「試行対局」であることを示しています。<a href="#gk12">「q」キー</a>ですばやく削除できます（削除の取り消し：Ctrl + z）<br>
「Edit」メニューの「試行対局(trial board)」のチェックを外すと、通常の盤になります。クリック」の代わりに「Ctrl+クリック」で新しい試行碁盤で打つことができます。<br>
<br>
<h3>ドラッグ＆ドロップ</h3>
SGFファイルやURLをLizGobanにドラッグ＆ドロップして開くことができます。<br>
<br>
<h3>紛失したボードを復元</h3>
「Edit」メニューの「ボードの削除を解除(Undelete board)」はセッションをまたいで動作します。意図せずに終了した後に失われたボードを復元するには、Ctrl+zを試してみてください。<br>
<br>
<h3>(弱くした)エンジンとの対戦</h3>
一番簡単な方法は「File」メニューの「Match vs AI」です。ここだけで十分な場合はスキップしても構いません。<br>
<br>
　１、「View」メニューの「Raw board」を選択する<br>
　２、自分のターンで碁盤をクリックして石を置く<br>
　３、エンジンのターンでEnterキーを押す<br>
　または、"1", "2", ... , "9 "キーを押す（1=やや弱い手、9=非常に弱い手）<br>
　または、「0」キーを押す（勝率に余裕があるときにパスする。LeelaZeroのみ）<br>
<br>
「Z」キーを長押しすると、予想手を見ることができます。<br>
<br>
もう一つのハンデとして、異なるエンジンをランダムに混ぜて対戦することもできます。<br>
<br>
　１、「View」メニューで「Raw board」を選択する<br>
　２、「Engine」メニューの「Load network weights」からweightファイル（例：LZ38）を選択する<br>
　３、「Engine」メニューの「Alternative weights for white」から別のウェイトファイル（例：LZ157）を選択する<br>
<br>
これで、Enterキーを押すとLZ157が正常に白に使用されます。しかし、「1」キーを押すと、10%の確率でLZ38が白に使われます。「2」キーで20％、「3」キーで30％、...、「9」キーで90％となっています。<br>
<a name="gk11"></a>
<br>
<h3>UIレイアウト</h3>
ウィンドウのサイズを変更することで、横向き／縦向きのレイアウトを切り替えることができます。「View」メニューも参照してください。<br>
<a name="gk13"></a>
<br>
<h3>先に考えさせて(Let me think first)モード</h3>
「View」メニューで「Let me think first」を選択すると、「Tool」メニューで「自動リプレイ(Auto replay)」や「AI対AI」を選択すると、LizGobanは進行度0%～50%の間で無地の盤面を表示し、50%～100%の間でサジェストを表示してくれます。表示スタイルを手動で切り替えるには<a href="#gk12">「Tab」キー</a>を使用します。<a href="#gk12">「;」キー</a>を連打すると、オートプレイなしでlet-me-think-firstスタイルを真似ることができます。<br>
<br>
<h3>パーソナルエクササイズブック</h3>
「Tool]メニューの[練習問題として保存(Store as exercize)]で現在の碁盤を記憶し、[練習問題(Exercize)]で記憶した碁盤をランダムに表示することができます。TabキーまたはZキーを押すと、その解析結果が表示されます。<br>
<a name="gk3"></a>
<br>
<h2>ショートカットキー</h2>
<h3>着手</h3>
　・上/左矢印キー　：　前の手（シフト=15手)<br>
　・下/右矢印キー　：　次の手（シフト=15手)<br>
　・Homeキー　：　初手<br>
　・Endキー　：　最後の一手<br>
　・BS/Delキー　：　元に戻す<br>
　・pキー　：　 パス<br>
　・#キー　：　コメントを表示する<br>
<br>
最初の(最後の)手で、上下左右(下/右)の矢印を長押しすると、Home(End)としても機能します。<br>
<a name="gk11"></a>
<br>
<h3>碁盤</h3>
　・Ctrl+n　：　新しい空の碁盤<br>
　・Ctrl+d　：　碁盤の複製<br>
　・[　：　前の碁盤<br>
　・]　：　次の碁盤<br>
　・Ctrl+x　：　碁盤の削除（Ctrl+z　：　削除解除）<br>
　・Ctrl+w　：　碁盤の削除/ウィンドウを閉じる<br>
　・q　：　Ctrl+x と同じ (<a href="#gk2">試行碁盤(trial board)</a>のみ)<br>
<br>
<h3>分析</h3>
　・スペース　：　分析の一時停止／再開<br>
　・a　：　自動分析の開始／停止（目的手数を入力してEnterキーを押して開始）<br>
　・Enter ： 最高の手(best move)を打つ（Shift=5手進む）<br>
　・` (backquote)　：　別の碁盤で最高の手を打つ<br>
　・,（カンマ）　：　主要なバリエーションを再生する<br>
<br>
<h3>View</h3>
（押し続ける）<br>
<br>
　・z　：　提案やマークなどを非表示にする (「View」メニューのいくつかのスタイルで提案を表示する）<br>
　・x　：勝率グラフを拡大<br>
　・c　：手番号と座標を表示<br>
　　・ + 石の上にマウスを置く　：　この動きの後に石を非表示にする<br>
　　・ + 石の上でマウスクリック　：　この手数に行く<br>
　・1, 2, ...., 9, 0　：　n番目の変化を表示 (0 = 次の手)<br>
　　・ + エンター　：　この着手をする<br>
　　・ + ` (backquote)　：　この手を別の碁盤でプレイする<br>
　　・ + ,(コンマ)　：　このバリエーションを再生する<br>
　　・ + (Shiftなど、ほぼすべてのキーを押して離す)　：　表示されているバリエーションを更新する<br>
　　・b, d, e, f, ...　：　タグ文字の後に石を隠す （+ Enter：この着手に行く）<br>
<br>
<a name="gk12"></a>
(普通に打つ)<br>
　・Ctrl+Shift+n　：　新しいウィンドウ<br>
　・Shift+z　：　viewを切り替える（現在のview/raw board）<br>
　・Tab ： 表示の切り替え（現在の表示／前の表示）<br>
　・; (セミコロン)　：「<a href="#gk13">先に考えさせて(Let me think first)</a>」スタイルで以下<br>
　　・1回目＝示唆表示<br>
　　・2回目＝前方移動・示唆非表示<br>
<br>
<h3>SGF</h3>
　・Ctrl+c　：　SGFをクリップボードにコピー<br>
　・Ctrl+v　：　クリップボードからSGFまたはURLを貼り付ける<br>
　・Ctrl+o　：　SGFファイルを開く<br>
　・Ctrl+s　：　SGFファイルの保存<br>
<br>
<h3>エンジン</h3>
　・Ctrl+r　：　エンジンをリセット<br>
　・Shift+l　：　weightファイルをロード<br>
　・Ctrl+Shift+l　：　白のweightファイルをロード<br>
　・Ctrl+Shift+u　：　ホワイトエンジンのアンロード<br>
<br>
<hr>
<a name="gk4"></a>
<br>
<h2>KataGo</h2>
KataGoを使用しているときは、「Tool」メニューに「コミ(Komi)」があり、「View」メニューに「スコアバー(Score bar)」があります。<br>
<br>
また、「View」メニューには「勢力(Ownership)」があります。このメニューをオンにすると、各グリッドの推定勢力が半透明の黒/白の背景で表示されます。<br>
<br>
また、黒または白の塊の領域数（＝勢力の合計）は、ボード上に半透明の緑／ピンクの数字で表示されます。この数字は次のように計算されます。<br>
<br>
　・空のグリッド（および死石）上の勢力のみが各塊の合計として計算されます。<br>
　・推定された合計スコアの補正値はボード上の右上隅に「+n」として表示されます。理想的には、碁盤上で生きている石の差か、ゲーム終了時のアゲハマの差に等しい。<br>
<br>
そのため、(1)未来の石は考慮されず、(2)中立点(ダメ)もカウントされるため、正しい「領地」とは言えません。広い範囲の非常に小さい勢力の合計には、より小さなフォントが使用されています。<br>
<br>
悪い手は石の上に三角形で表示されます (赤 = -5ポイント、紫 = -2ポイント)。「c」キーを長押しして、石をクリックすると、対応する手にジャンプします。「<」または「>」を押すと、そのようなミスを一つずつチェックすることができます。<br>
<br>
盤面の小さな緑の四角とピンクの×は、最近の手で黒と白の可能性が高まっていることを示しています。「/」キーを長押しすると、この「最近の手」の前を覗くことができます。<br>
<br>
「v」キーを長押しして、各マスの境界線と勢力(10=100%, 9=90%, ...)を確認します。「v」キー＋マウスオン（碁盤上または勝率グラフ上）で、指定した一手で過去のものと比較することができます。<br>
<br>
推定スコアは勝率グラフのオレンジ色の点で表示されます。「最近の手」の開始点は、オレンジ色の大きな点で表示されています。「c」キー(長押し)+マウスオンで、指定した一手からの勢力変化を見ることができます。<br>
<hr>
<a href="https://github.com/kaorahi/lizgoban" target="_blank">Project Home</a> <br>
<a href="https://github.com/kaorahi/lizgoban/blob/master/LICENSE.txt" target="_blank">Licence(GPL3)</a><br>
</blockquote>
<hr>
<br>
<br>
<br>

<footer>
<div id="submenu">
<ul>
<li><a href="#gk1"><b>画面表示</b></a></li>
<li><a href="#gk2"><b>ヒント</b></a></li>
<li><a href="#gk3"><b>ショートカットキー</b></a></li>
<li><a href="#gk4"><b>KataGo</b></a></li>
</ul>
</div>
</footer>

</body>
</html>
